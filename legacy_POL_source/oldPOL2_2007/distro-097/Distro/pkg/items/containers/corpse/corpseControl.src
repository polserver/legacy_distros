/* $Id: corpseControl.src 812 2006-09-13 20:59:46Z austinheilman $
 *
 */

use uo;
use os;
use util;

include ":containers:settings";


program control_Corpse(corpse)
	if ( corpse.NPCTemplate() )
		return 0;
	endif

	var settings := CP_GetSettingsCfgElem("Corpse");
	var decay_wait := CInt(settings.CorpseDecay);
	if ( !decay_wait )
		return 0;
	endif

	Sleep(decay_wait);
	corpse.SetDestroyable(1);
	corpse.MakeRemains();

	return 1;
endprogram
