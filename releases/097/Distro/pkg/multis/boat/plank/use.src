/*
 * $Id: use.src 306 2006-06-10 01:47:10Z austinheilman $
 *
 */

use uo;

program UsePlank(who, plank)
	Detach();
	if ( plank.Extended() )
		if ( (who.multi).serial != (plank.multi).serial )
			if ( Distance(who, plank) <= 2 )
				MoveObjectToLocation(who, plank.x, plank.y, plank.z+1, plank.realm, MOVEOBJECT_FORCELOCATION);
			endif
		else
			plank.Retract(who);
		endif
	else
		if ( plank.locked )
			PrintTextAbovePrivate(plank, "That is locked.", who);
			return 0;
		endif
		
		plank.Extend();
	endif
	
	return 1;
endprogram
