/* $Id: use.src 128 2006-05-27 17:36:42Z austinheilman $
 *
 */

use uo;
use os;

program useScript_Corpse(mobile, corpse)
	if ( corpse.GetOwner() != mobile )
		return SendViewContainer(mobile, corpse);
	endif
	
	foreach item in ( EnumerateItemsInContainer(corpse) )
		if ( item.container != corpse )
			continue;
		else
			MoveItemToContainer(item, mobile.backpack, item.x, item.y);
		endif
		SleepMS(2);
	endforeach
	SendSysMessage(mobile, "You collect your belongings.");
	DestroyItem(corpse);
	
	return 1;
endprogram	
		