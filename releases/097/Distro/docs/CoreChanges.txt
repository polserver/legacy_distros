-- POL097 --
=======

08-26 Austin
       Fixed: POL will check to make sure the corpse and backpack items are setup
              in an itemdesc.cfg when loading. 
              If EnableSecureTrading is enabled in pol.cfg it will also check to 
              make sure its container is setup.

08-25 MuadDib
       Fixed: Padding involving stats.
       
08-22 Austin
       Added: npc.alignment : 0 - Neutral, 1 - Evil, 2 - Good

08-19 Austin
       Added: Three more hooks to repsys.cfg's HookList elem.
              OnAttack Run when a mobile attacks another.
                        - Target with the TGTOPT_HARMFUL flag set.
                        - Mobile goes into warmode and double clicks another.
                        
              OnDamage Run when a mobile damages another.
                        - ApplyDamage() or ApplyRawDamage() is used.

              OnHelp   Run when a mobile helps another.
                        - Target with TGTOPT_HELPFUL is used.

08-17 Austin
       Added: repsys.cfg
              New elem called 'HookList' which will support syste hook scripts for the reputation system.
              Currently name (single click) and highlight (health bar) colors are hookable.
              Example:
              repsys.cfg
              HookList HookList
              {
                   NameColor :repsys:hookScript:NameColor
                   HighLightColor :repsys:hookScript:HighLightColor
              }
              :repsys:hookScript.src
              exported function NameColor(mobile, visible_to)
                   return CInt(GetObjProperty(mobile, "NameColor"));
              endfunction
              
              exported function HighLightColor(mobile, visible_to)
                   return CInt(GetObjProperty(mobile, "HighLightColor"));
              endfunction
              
              HighLightColor note: The client seems to only accept the following numbers
              0 - None, 1 - Innocent, 2 - Friend, 3 - Attackable, 
              4 - Criminal, 5 - Enemy, 6 - Murderer, 7 - Invulnerable
              8 - Unknown (blue gump, pure black mobile)
              
08-14 MuadDib
       Added: uo.em command CancelTarget( of_whom). Can be used to kill an existing cursor
              if one exists, for a client.
              
08-12 Austin
       Changed: pol.cfg IgnoreLoadErrors=1 (enabled) changes
                  Instead of stopping the startup, the following will occur:
                * If an item belongs in a container or on a character and neither 
                  are present, the item will be destroyed.
                *  If an item has an undefined objtype greather than 0x3FFF, it will not be loaded.

08-11 Austin
       Added: Datafile::ListDataFiles()
              Returns an array of structs containing
              .pkg - name of the package the datafile belongs to 
              .name - name of the file
              .descriptor - :pkg:name
              
07-24 MuadDib
       Changed: Handling of non-aos expansion accounts and status bars.
       
07-20 Austin
       Fixed : Spelling mistake for the method setcriminal
       Fixed : Guilds were not saving data.
       Changed: NPCs with the template set to 'Good' for alignment will now change highlight color
                if set to murderer or criminal.

06-29 Austin
       Added : Operator support for += -= *= /= and %=
               i += 5; would be the same as i := i+5;

06-23 Austin
        Added : PolSys::ListTextCommands() - Returns a dict of a dict of structs.
                Dict 1 - Package names Dict 2 - Command levels Struct - .dir .script
                Example:
                  foreach package in ( commands )
                     Print("Pkg:"+_package_iter);
                     foreach level in ( package )
                        Print(" CmdLvl:"+_level_iter);
                        foreach command in ( level )
                           Print("     "+command);
                           SleepMS(2);
                        endforeach
                        SleepMS(2);
	             endforeach
	  	     SleepMS(2);
	          endforeach

06-22 Austin
        Added : Attributes::GetAttributeName(alias) - Returns the real attribute name from an alias.
        Added : Vitals::GetVitalName(alias) - Returns the real vital name from an alias.
        Added : PolSys::GetCmdLvlName(alias/number) - Returns the real command level name from an alias.

06-21 MuadDib
        Added : Cliloc::PrintTextAboveCL() and PrintTextAbovePrivate().
        Added : Support for Talisman layer (layer 9) in core definitions.
        Hint : Quivers (added in ML) share layer 20 with cloaks. You can however
               on Origin equip cloaks AND quivers. Ewwww.

06-20 MuadDib
        Added : Cliloc.em added to the list of new EM Modules. Included in this is already
                the command SendSysMessageCL(). The new EM will have the commands
                commented for instruction of use. If you know about clilocs, you know
                they can be a pain and have additional arguments. Sending normal clilocs
                and ones with arguments are both supported in the single commands.
                Argument flag defaults to 0 in the EM for this.

06-20 Austin
        Changed : Moved guild functions to guilds.em

06-18 Austin
        Changed : Moved storage area functions to storage.em
        Changed : Moved vital functions, ApplyDamage, ApplyRawDamage and HealDamage
                  from uo.em to vitals.em

06-17 Austin
        Changed : Updated handling of object properties and methods. Should provide a slight
                  speed increase.
        Changed : Moved attribute functions from uo.em to a new attributes.em module.

06-16 MuadDib
        Changed : AddMenuItem() now has a color option. Default is 0.
        Hint : menus.cfg uses the color of the itemdesc entry of the objtype given,
               to get color. So if an item has no itemdesc entry, it defaults to 0.

06-16 Austin
        Removed: Skills.cfg is no longer used.
                 Instead skill IDs will be read from uoskills.cfg and redirected to
                 attributes.cfg. The attributes.cfg file now has support for the old entries.
                skills.cfg entries supported now in attributes.cfg are:
                DELAY, UNHIDES and SCRIPT

06-15 Austin
        Added : mobile.Privileges() - Returns a dictionary.
                The key is the privilege name. The value 0/1 is if it is enabled or not.
        Removed: Built-in text commands (you'll need to script them):
                 .eobjcount, .i_help, .log, .los, .objcount, .priv, .privs, .set, .turn,
                 .t_online, .unload, .unloadall, .wheretest

06-15 MuadDib
        Added : Function OpenURL(character, url_string) to OS.EM. Used to send Open Web
                Browser packet to client.

06-14 MuadDib
        Added : AOS style status bar is now generated correctly for AOS+ clients that ALSO
                have the UOExpansion set to AOS or higher. Only thing populated by core is
                the statcap entry. Rest can be done via packethooks.
        Added : UOClient.cfg entry "StatCap" in General. This is used with AOS era
                status bars to send the statcap in the packet. Default is 225. Can use
                packethooks to override this outgoing to client.

06-14 Austin
        Changed : All log files (pol.log, debug.log, start.log, etc.) will now be placed in pol/log/

06-13 Austin
        Changed : Config files in packages can now be in pkgname/config/cfgfile.cfg.
                  If it is not present there, it will look in the package root (pkgname/cfgfile.cfg)
                  pkg.cfg must still be at the root of the package.

06-13 MuadDib
        Changed : Handling of target request returns in core. Returns errors more efficiently
                  when client already has an active target cursor.

06-12 Austin
        Added : UO::CloseTradeWindow(mobile) - Will close the trade window for the mobile and the
                person it is trading with.

06-11 Austin
        Added : mobile.trading_with - Returns a mobile reference if a secure trade is taking place.
        Added : Util::StrFormatTime(format_string, time_stamp).
                Takes in the StrFTime() specifiers for the format string.
                (http://www.cppreference.com/stddate/strftime.html)
                If time_stamp is 0, it will use POLCore().systime.

06-11 MuadDib
        Changed : When a client already has a target cursor request, instead of core
                  just returning that to the new requesting call, now returns an error
                  code back to the calling cursor script.

06-10 MuadDib
        Cleanup : Removed last of stat advancement code. While this was depreciated
                  several versions ago, please remember stat advancement must be done
                  via the scripts.

06-09 MuadDib
        Cleanup : Cleaned out some old code.
        Removed : Removed depreciated UO.EM Function MoveCharacterToLocation(). Use
                  MoveObjectToLocation() now.
        Removed : Removed depreciated UO.EM Function MoveItemToLocation(). Use
                  MoveObjectToLocation() now.

