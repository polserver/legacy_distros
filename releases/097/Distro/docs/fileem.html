<!DOCTYPE html PUBLIC "-//W3C//XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><title>POL Scripting Reference</title>
<meta name="keyword" content="POL, EScript, documentation, Ultima Online, UO, packets, client, ultima online client, emulator">
<meta name="description" content="Penultima Online Documentation website."> <meta name="Author" content="Racalac, Rykard"> <meta name="Generator" content="POL Doc-o-matic"> <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> <meta http-equiv="Content-Style-Type" content="text/css"> <style type="text/css"><!-- body,td,p { font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 8pt; font-weight: normal; color: #000000} --></style></head>


	<body style="background-color: rgb(240, 240, 240);">
<p style="font-size: 14pt; font-weight: bold; text-align: left;">
File: File.em</p><p style="font-size: 10pt; font-weight: bold; text-align: left;">
Description: File Access functions<br> Last Modified: 10/27/2007</p><p>
File Constants: </p><pre><ul>// LogToFile constants<br>const LOG_DATETIME := 1; // log Core-Style DateTimeStr in front of log entry<br></ul></pre><table align="center" bgcolor="#dddddd" border="1" cellpadding="1" cellspacing="0" frame="box" rules="groups" width="75%"><tbody><tr><th colspan="2" align="center"><a name="AppendToFile">AppendToFile(
filename, morelines )</a></th></tr></tbody><tbody><tr bgcolor="#cccccc"><th colspan="2" align="left">Parameters:</th></tr></tbody><tbody><tr bgcolor="#d4d4d4"><td>Name</td><td>Type</td></tr></tbody><tbody><tr><td width="50%"><var>filename</var></td><td>string</td></tr><tr><td width="50%"><var>morelines</var></td><td>array
of strings</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th colspan="2" align="left">Explanation</th></tr></tbody><tbody><tr><td colspan="2">Appends to a text file, adding newlines. Creates
file if it does not exist.</td></tr><tr><td colspan="2">By default, no package has any file access
rights. To grant access, see config/fileaccess.cfg</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th colspan="2" align="left">Return
values</th></tr></tbody><tbody><tr><td colspan="2">1 or error</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th colspan="2" align="left">Errors</th></tr></tbody><tbody><tr><td colspan="2">"Invalid parameter type"</td></tr><tr><td colspan="2">"Error in filename descriptor"</td></tr><tr><td colspan="2">"No parent path traversal please."</td></tr><tr><td colspan="2">"Access denied"</td></tr><tr><td colspan="2">"Unable to open file: X"</td></tr><tr><td colspan="2">"Error during write."</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th colspan="2" align="left">Related
Configs</th></tr></tbody><tbody><tr><td colspan="2"><a href="configfiles.php#fileaccess.cfg"><b>fileaccess.cfg</b></a></td></tr></tbody></table><br><br><br><table align="center" bgcolor="#dddddd" border="1" cellpadding="1" cellspacing="0" frame="box" rules="groups" width="75%"><tbody><tr><th colspan="2" align="center"><a name="FileExists">FileExists(
filename )</a></th></tr></tbody><tbody><tr bgcolor="#cccccc"><th colspan="2" align="left">Parameters:</th></tr></tbody><tbody><tr bgcolor="#d4d4d4"><td>Name</td><td>Type</td></tr></tbody><tbody><tr><td width="50%"><var>filename</var></td><td>string</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th colspan="2" align="left">Explanation</th></tr></tbody><tbody><tr><td colspan="2">Checks for the existence of a file based on
Filename parameter.</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th colspan="2" align="left">Return
values</th></tr></tbody><tbody><tr><td colspan="2">1 on success</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th colspan="2" align="left">Errors</th></tr></tbody><tbody><tr><td colspan="2">"Invalid parameter type"</td></tr><tr><td colspan="2">"Error in filename descriptor"</td></tr><tr><td colspan="2">"No parent path traversal please."</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th colspan="2" align="left">Related
Configs</th></tr></tbody><tbody><tr><td colspan="2"><a href="configfiles.php#fileaccess.cfg"><b>fileaccess.cfg</b></a></td></tr></tbody></table><br><br><br><table align="center" bgcolor="#dddddd" border="1" cellpadding="1" cellspacing="0" frame="box" rules="groups" width="75%"><tbody><tr><th colspan="2" align="center"><a name="LogToFile">LogToFile(
filename, line, flags := 0 )</a></th></tr></tbody><tbody><tr bgcolor="#cccccc"><th colspan="2" align="left">Parameters:</th></tr></tbody><tbody><tr bgcolor="#d4d4d4"><td>Name</td><td>Type</td></tr></tbody><tbody><tr><td width="50%"><var>filename</var></td><td>String</td></tr><tr><td width="50%"><var>line</var></td><td>String</td></tr><tr><td width="50%"><var>flags</var></td><td>Integer</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th colspan="2" align="left">Explanation</th></tr></tbody><tbody><tr><td colspan="2">Appends a single line to a text file, adds
newlines, creates file if it does not exist.</td></tr><tr><td colspan="2">By default, no package has any file access
rights. To grant access, see config/fileaccess.cfg</td></tr><tr><td colspan="2">file.em constants for flags:
</td></tr><tr><td colspan="2"><pre>const LOG_DATETIME := 1; // log Core-Style DateTimeStr in front of log entry</pre></td></tr></tbody><tbody><tr bgcolor="#cccccc"><th colspan="2" align="left">Return
values</th></tr></tbody><tbody><tr><td colspan="2">1 or error</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th colspan="2" align="left">Errors</th></tr></tbody><tbody><tr><td colspan="2">"Invalid parameter type"</td></tr><tr><td colspan="2">"Error in filename descriptor"</td></tr><tr><td colspan="2">"No parent path traversal please."</td></tr><tr><td colspan="2">"Access denied"</td></tr><tr><td colspan="2">"Unable to open file: X"</td></tr><tr><td colspan="2">"Error during write."</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th colspan="2" align="left">Related
Configs</th></tr></tbody><tbody><tr><td colspan="2"><a href="configfiles.php#fileaccess.cfg"><b>fileaccess.cfg</b></a></td></tr></tbody></table><br><br><br><table align="center" bgcolor="#dddddd" border="1" cellpadding="1" cellspacing="0" frame="box" rules="groups" width="75%"><tbody><tr><th colspan="2" align="center"><a name="ReadFile">ReadFile(
filename )</a></th></tr></tbody><tbody><tr bgcolor="#cccccc"><th colspan="2" align="left">Parameters:</th></tr></tbody><tbody><tr bgcolor="#d4d4d4"><td>Name</td><td>Type</td></tr></tbody><tbody><tr><td width="50%"><var>filename</var></td><td>string</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th colspan="2" align="left">Explanation</th></tr></tbody><tbody><tr><td colspan="2">Reads a text file, returning the contents as an
array of strings, removing newlines.</td></tr><tr><td colspan="2">By default, no package has any file access
rights. To grant access, see config/fileaccess.cfg</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th colspan="2" align="left">Return
values</th></tr></tbody><tbody><tr><td colspan="2">returns array of strings</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th colspan="2" align="left">Errors</th></tr></tbody><tbody><tr><td colspan="2">"Invalid parameter type"</td></tr><tr><td colspan="2">"Error in filename descriptor"</td></tr><tr><td colspan="2">"No parent path traversal please."</td></tr><tr><td colspan="2">"Access denied"</td></tr><tr><td colspan="2">"File not found: X"</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th colspan="2" align="left">Related
Configs</th></tr></tbody><tbody><tr><td colspan="2"><a href="configfiles.php#fileaccess.cfg"><b>fileaccess.cfg</b></a></td></tr></tbody></table><br><br><br><table align="center" bgcolor="#dddddd" border="1" cellpadding="1" cellspacing="0" frame="box" rules="groups" width="75%"><tbody><tr><th colspan="2" align="center"><a name="WriteFile">WriteFile(
filename, textcontents )</a></th></tr></tbody><tbody><tr bgcolor="#cccccc"><th colspan="2" align="left">Parameters:</th></tr></tbody><tbody><tr bgcolor="#d4d4d4"><td>Name</td><td>Type</td></tr></tbody><tbody><tr><td width="50%"><var>filename</var></td><td>string</td></tr><tr><td width="50%"><var>textcontents</var></td><td>array
of strings</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th colspan="2" align="left">Explanation</th></tr></tbody><tbody><tr><td colspan="2">Writes a new file to disk, appends newlines,
creates file if it does not exist, renames existing file to filename.bak</td></tr><tr><td colspan="2">By default, no package has any file access
rights. To grant access, see config/fileaccess.cfg</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th colspan="2" align="left">Return
values</th></tr></tbody><tbody><tr><td colspan="2">1 or error</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th colspan="2" align="left">Errors</th></tr></tbody><tbody><tr><td colspan="2">"Invalid parameter type"</td></tr><tr><td colspan="2">"Error in filename descriptor"</td></tr><tr><td colspan="2">"No parent path traversal please."</td></tr><tr><td colspan="2">"Access denied"</td></tr><tr><td colspan="2">"File not found: X"</td></tr><tr><td colspan="2">"Error during write."</td></tr><tr><td colspan="2">"Unable to remove filenameX: reasonY</td></tr><tr><td colspan="2">"Unable to rename filenameX: to filenameZ:
reasonY</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th colspan="2" align="left">Related
Configs</th></tr></tbody><tbody><tr><td colspan="2"><a href="configfiles.php#fileaccess.cfg"><b>fileaccess.cfg</b></a></td></tr></tbody></table><br><br><br>
<hr> <p style="font-size: 9pt; font-weight: bold; text-align: center;">
If you <i>know</i> if any information is incorrect on
these pages, mail your corrections to polteam@polserver.com </p>
<p style="font-size: 7pt; font-weight: bold; text-align: center;">
Copyright ©2003-2006 David Carpman and POL Development Team, all rights
reserved. DO NOT REPRODUCE, MIRROR, ALTER, SPINDLE, MUTILATE, OR SIT
ON. </p> </body></html>