
<!DOCTYPE html PUBLIC "-//W3C//XHTML 1.0 Transitional" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
	<head>
		<title>POL Class Reference</title>
		<meta name="keyword" content="POL, EScript, documentation, Ultima Online, UO, packets, client, ultima online client, emulator" />
		<meta name="description" content="Penultima Online Documentation website." />
		<meta name="Author" content="Racalac, Rykard" />
		<meta name="Generator" content="POL Doc-o-matic" />
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<style type="text/css"><!-- body,td,p {  font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 8pt; font-weight: normal; color: #000000} --></style>
	</head>
	<body BGCOLOR="#F0F0F0">

<center><table><tr align="center"><td><strong>Class Hierarchy</strong></td></tr><tr><td><pre>

            <a href="#UObject">UObject</a>             <a href="#Account">Account</a>      <a href="#Polcore">PolCore()</a>       <a href="#DataFileElement">DataFileElement</a>
               |
               |                <a href="#Guild">Guild</a>        <a href="#Script">Script</a>          <a href="#Datastore">Datastore</a>
     +---------+--------+
     |                  |       <a href="#Array">Array</a>        <a href="#Dictionary">Dictionary</a>      <a href="#Datafile">Datafile</a>
   <a href="#Character">Character</a>           <a href="#Item">Item</a>
     |                  |       <a href="#AuxConnection">AuxConnection</a>   <a href="#Error">Error</a>        <a href="#String">String</a>
    <a href="#NPC">NPC</a>                 |
                        |                                    <a href="#Struct">Struct</a>
     +------------------+--------------+-----------+
     |                  |              |           |         <a href="#Package">Package</a>
 <a href="#Equipment">Equipment</a>           <a href="#Lockable">Lockable</a>         <a href="#Map">Map</a>        <a href="#Multi">Multi</a>
     |                  |                          |         <a href="#Packet">Packet</a>
 +---+----+        +----+--------+            +----+----+
 |        |        |             |            |         |
<a href="#Armor">Armor</a>  <a href="#Weapon">Weapon</a>     <a href="#Door">Door</a>        <a href="#Container">Container</a>      <a href="#Boat">Boat</a>     <a href="#House">House</a>
                                 |
                            +----+----+
                            |         |
                         Spellbook   <a href="#Corpse">Corpse</a>
</pre></td></tr></table></center><?xml version="1.0" encoding="UTF-8"?><p style="font-size: 10pt; font-weight: bold; text-align: left;">
        Last Modified: 10/27/2007<br/></p><table bgcolor="#dddddd" frame="box" rules="groups" align="center" width="75%" border="1" CELLPADDING="1" CELLSPACING="0"><tbody><tr><th align="center" colspan="4"><a name="Account">Account</a></th></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Explanation</th></tr></tbody><tbody><tr><td colspan="4">Object describing a player's game account</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Members</th></tr></tbody><COLGROUP span="4" align="left"/><tbody><tr><td width="25%">Name</td><td width="10%">Type</td><td width="55%">Desc</td><td width="10%">Access</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td width="25%">name</td><td width="10%">String</td><td width="55%">the name of the account</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">enabled</td><td width="10%">boolean</td><td width="55%">true if enabled</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">banned</td><td width="10%">boolean</td><td width="55%">true if banned</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">passwordhash</td><td width="10%">string</td><td width="55%">MD5 password hash string</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">usernamepasswordhash</td><td width="10%">string</td><td width="55%">MD5 username+password hash string</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">uo_expansion</td><td width="10%">string</td><td width="55%">used uo-expansion</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">defaultcmdlevel</td><td width="10%">Integer</td><td width="55%">the number for the accounts default command level</td><td width="10%">r/o</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Methods</th></tr></tbody><COLGROUP span="3" align="left"/><tbody><tr><td>Prototype</td><td>Returns</td><td colspan="2">Desc</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td NOWRAP="true">addcharacter(index)</td><td>nothing/error</td><td colspan="2">If Index is 0 (.AddCharacter(0)), it will find the next available slot on the account. (Otherwise pass 1-5) Will create a naked, uncolored, male character named 'new character' at 1, 1, 1 on Britannia. No scripts are ran for this method of character creation. Edit this new character via the script creating it.</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">ban()</td><td>true</td><td colspan="2">bans the account</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">unban()</td><td>true</td><td colspan="2">unbans the account</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">enable()</td><td>true</td><td colspan="2">enables the account</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">disable()</td><td>true</td><td colspan="2">disables the account</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">setpassword(string newpass)</td><td>true/error</td><td colspan="2">sets the account password to newpass</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">checkpassword(string pass)</td><td>boolean/error</td><td colspan="2">returns true if 'pass' is the account's password</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">setname(string newname, string newpass)</td><td>true/error</td><td colspan="2">sets the account name to newname, newpass optional</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">getcharacter(integer slot)</td><td>true/OfflineCharacterRef</td><td colspan="2">gets an OfflineCharacterRef for the character in slot 'slot'. returns error if not character in that slot (1..5)</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">deletecharacter(integer slot) </td><td>true/error</td><td colspan="2">Deletes character in slot 'slot'. returns error if not character in that slot (1..5)</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">delete()</td><td>true/error</td><td colspan="2">Delete this empty account.</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">split(string newacctname, integer slot)</td><td>true/error</td><td colspan="2">Create a new account and move character to it.</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">move_char(string destacctname, integer slot)</td><td>true/error</td><td colspan="2">Move character from this account to destination account. You can use it to flip chars on same account too.</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">getprop(string propname)</td><td>true/error</td><td colspan="2">GetObjProperty for account objects.</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">setprop(string propname, propval)</td><td>true</td><td colspan="2">SetObjProperty for account objects.</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">eraseprop(string propname)</td><td>true</td><td colspan="2">EraseObjProperty for account objects.</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">propnames()</td><td>Array</td><td colspan="2">returns an array of cprop names on this account</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">set_uo_expansion(string expansion)</td><td>true/error</td><td colspan="2">This determines what flag is sent with packet 0xB9 during login (Nothing -&gt; 0x0000 / T2A -&gt; 0x0001 / LBR -&gt; 0x0002 / AOS -&gt; 0x801b / SE -&gt; 0x805b / ML -&gt; 0x80db). It's possible to hook 0xB9 but don't forget to set_uo_expansion anyway because core uses this for internal flags (e.g. AoS Tooltips). The servspecopt.cfg UOFeatureEnable is used with packet 0xA9 and is currently global to all clients. Recognized values: ML, SE, AOS, LBR, T2A (default).</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">setdefaultcmdlevel(integer number)</td><td>true/error</td><td colspan="2">Set the account's default command level.</td></tr></tbody></table><br/><br/><br/><table bgcolor="#dddddd" frame="box" rules="groups" align="center" width="75%" border="1" CELLPADDING="1" CELLSPACING="0"><tbody><tr><th align="center" colspan="4"><a name="Armor">Armor</a></th></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Parent</th></tr></tbody><tbody><tr><td colspan="4"><a href="#Equipment">Equipment</a></td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Explanation</th></tr></tbody><tbody><tr><td colspan="4">Equipable items that protect against damage in combat</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Members</th></tr></tbody><COLGROUP span="4" align="left"/><tbody><tr><td width="25%">Name</td><td width="10%">Type</td><td width="55%">Desc</td><td width="10%">Access</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td width="25%">ar_mod</td><td width="10%">integer</td><td width="55%">Armor factor modifier</td><td width="10%">r/w</td></tr><tr bgcolor="#E5E5E5"><td width="25%">ar</td><td width="10%">integer</td><td width="55%">Modified armor factor</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">ar_base</td><td width="10%">integer</td><td width="55%">Base armor factor (as in itemdesc.cfg)</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">onhitscript</td><td width="10%">string</td><td width="55%">Script name that runs when armor is hit</td><td width="10%">r/w</td></tr></tbody></table><br/><br/><br/><table bgcolor="#dddddd" frame="box" rules="groups" align="center" width="75%" border="1" CELLPADDING="1" CELLSPACING="0"><tbody><tr><th align="center" colspan="4"><a name="Array">Array</a></th></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Explanation</th></tr></tbody><tbody><tr><td colspan="4">Data structure for linear storage, dynamically resizes to fit more elements. Declare with var a := array;</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Methods</th></tr></tbody><COLGROUP span="3" align="left"/><tbody><tr><td>Prototype</td><td>Returns</td><td colspan="2">Desc</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td NOWRAP="true">exists(index)</td><td>error/int</td><td colspan="2">Returns 1 if index is in array.</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">size()</td><td>int</td><td colspan="2">number of elements in the array</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">erase(int index)</td><td>true/false</td><td colspan="2">erases the element at index</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">insert(int index, object)</td><td>void/error</td><td colspan="2">inserts a new object into the array at index</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">shrink(index)</td><td>true/error</td><td colspan="2">erases index to end of array</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">append(object)</td><td>true/error</td><td colspan="2">inserts object in the end of the array</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">reverse()</td><td>true</td><td colspan="2">reverses the elements of the array</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">sort()</td><td>true</td><td colspan="2">sorts the elements of the array</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">+ array</td><td>array</td><td colspan="2">concatinates 2 arrays</td></tr></tbody></table><br/><br/><br/><table bgcolor="#dddddd" frame="box" rules="groups" align="center" width="75%" border="1" CELLPADDING="1" CELLSPACING="0"><tbody><tr><th align="center" colspan="4"><a name="AuxConnection">AuxConnection</a></th></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Explanation</th></tr></tbody><tbody><tr><td colspan="4">An object passed to an Aux Service Script that allows the script to transmit and recieve packed data over a TCP/IP port. use wait_for_event() in the service script to recieve data. </td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Members</th></tr></tbody><COLGROUP span="4" align="left"/><tbody><tr><td width="25%">Name</td><td width="10%">Type</td><td width="55%">Desc</td><td width="10%">Access</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td width="25%">ip</td><td width="10%">string</td><td width="55%">Originating IP on the AuxConnection Pipe</td><td width="10%">r/o</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Methods</th></tr></tbody><COLGROUP span="3" align="left"/><tbody><tr><td>Prototype</td><td>Returns</td><td colspan="2">Desc</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td NOWRAP="true">transmit(object o)</td><td>error/0</td><td colspan="2">Transmits the packable object 'o' over the Aux connection.</td></tr></tbody></table><br/><br/><br/><table bgcolor="#dddddd" frame="box" rules="groups" align="center" width="75%" border="1" CELLPADDING="1" CELLSPACING="0"><tbody><tr><th align="center" colspan="4"><a name="Boat">Boat</a></th></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Parent</th></tr></tbody><tbody><tr><td colspan="4"><a href="#Multi">Multi</a></td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Explanation</th></tr></tbody><tbody><tr><td colspan="4">A Multi object that moves in water.</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Members</th></tr></tbody><COLGROUP span="4" align="left"/><tbody><tr><td width="25%">Name</td><td width="10%">Type</td><td width="55%">Desc</td><td width="10%">Access</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td width="25%">items</td><td width="10%">array</td><td width="55%">Array of Item References on the deck of the boat</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">mobiles</td><td width="10%">array</td><td width="55%">Array of Character References on the deck</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">has_offline_mobiles</td><td width="10%">boolean</td><td width="55%">true if players are logged out on the deck</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">tillerman</td><td width="10%">Item</td><td width="55%">ItemRef to the tillerman item</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">portplank</td><td width="10%">Item</td><td width="55%">ItemRef to the left-side plank item</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">starboardplank</td><td width="10%">Item</td><td width="55%">ItemRef to the right-side plank item</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">hold</td><td width="10%">Item</td><td width="55%">ItemRef to the hold container item</td><td width="10%">r/o</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Methods</th></tr></tbody><COLGROUP span="3" align="left"/><tbody><tr><td>Prototype</td><td>Returns</td><td colspan="2">Desc</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td NOWRAP="true">move_offline_mobiles(int x, int y, int z[, string realm])</td><td>true/false</td><td colspan="2">moves offline mobiles on boat to x,y,z. If realm is not set, Boat-realm is used.</td></tr></tbody></table><br/><br/><br/><table bgcolor="#dddddd" frame="box" rules="groups" align="center" width="75%" border="1" CELLPADDING="1" CELLSPACING="0"><tbody><tr><th align="center" colspan="4"><a name="Character">Character</a></th></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Parent</th></tr></tbody><tbody><tr><td colspan="4"><a href="#UObject">UObject</a></td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Children</th></tr></tbody><tbody><tr><td colspan="4"><a href="#NPC">NPC</a></td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Explanation</th></tr></tbody><tbody><tr><td colspan="4">A mobile object that exists in the world (NPC or player character)</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Members</th></tr></tbody><COLGROUP span="4" align="left"/><tbody><tr><td width="25%">Name</td><td width="10%">Type</td><td width="55%">Desc</td><td width="10%">Access</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td width="25%">warmode</td><td width="10%">integer</td><td width="55%">1 if in warmode</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">gender</td><td width="10%">integer</td><td width="55%">0=male 1=female</td><td width="10%">r/w</td></tr><tr bgcolor="#F0F0F0"><td width="25%">trueobjtype</td><td width="10%">integer</td><td width="55%">original objtype</td><td width="10%">r/w</td></tr><tr bgcolor="#E5E5E5"><td width="25%">truecolor</td><td width="10%">integer</td><td width="55%">original color</td><td width="10%">r/w</td></tr><tr bgcolor="#F0F0F0"><td width="25%">ar_mod</td><td width="10%">integer</td><td width="55%">Armor factor modifier</td><td width="10%">r/w</td></tr><tr bgcolor="#E5E5E5"><td width="25%">hidden</td><td width="10%">boolean</td><td width="55%">1 = normal players cannot see</td><td width="10%">r/w</td></tr><tr bgcolor="#F0F0F0"><td width="25%">concealed</td><td width="10%">integer</td><td width="55%">concealed below this value cannot see</td><td width="10%">r/w</td></tr><tr bgcolor="#E5E5E5"><td width="25%">frozen</td><td width="10%">boolean</td><td width="55%">1 = player is frozen (by a GM)</td><td width="10%">r/w</td></tr><tr bgcolor="#F0F0F0"><td width="25%">paralyzed</td><td width="10%">boolean</td><td width="55%">1 = player is paralyzed</td><td width="10%">r/w</td></tr><tr bgcolor="#E5E5E5"><td width="25%">poisoned</td><td width="10%">boolean</td><td width="55%">1 = player is poisoned</td><td width="10%">r/w</td></tr><tr bgcolor="#F0F0F0"><td width="25%">stealthsteps</td><td width="10%">integer</td><td width="55%">number of walk steps left until player is revealed</td><td width="10%">r/w</td></tr><tr bgcolor="#E5E5E5"><td width="25%">squelched</td><td width="10%">integer</td><td width="55%">1 = player cannot speak</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">dead</td><td width="10%">integer</td><td width="55%">1 = player is dead</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">ar</td><td width="10%">Integer</td><td width="55%">Total armor factor. If it's an NPC without armor equipped, it will return its intrinsic armor value taken from NpcDesc AR entry.</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">shield</td><td width="10%">Armor</td><td width="55%">Returns the ItemRef of the sheild, if any, is worn.</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">backpack</td><td width="10%">Item</td><td width="55%">Reference to character's pack (if any)</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">trading_with</td><td width="10%">CharRef</td><td width="55%">Reference to character they are trading with (if any)</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">weapon</td><td width="10%">Item</td><td width="55%">Reference to character's weapon (if any)</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">acct</td><td width="10%">integer</td><td width="55%">Account Reference (if not NPC)</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">acctname</td><td width="10%">Account</td><td width="55%">Account name string (if not NPC)</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">cmdlevel</td><td width="10%">integer</td><td width="55%">command level of character</td><td width="10%">r/w</td></tr><tr bgcolor="#E5E5E5"><td width="25%">cmdlevelstr</td><td width="10%">String</td><td width="55%">string name of command level</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">criminal</td><td width="10%">integer</td><td width="55%">1 = player is criminal (gray)</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">ip</td><td width="10%">String</td><td width="55%">IP Address string</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">isUOKR</td><td width="10%">Boolean</td><td width="55%">True if the client being used is an UO:KR client</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">cursor</td><td width="10%">Boolean</td><td width="55%">True if the client has an active target cursor</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">gump</td><td width="10%">Boolean</td><td width="55%">True if the client has any active gumps from SendGump</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">prompt</td><td width="10%">Boolean</td><td width="55%">True if the client has any active String or Unicode prompt windows</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">gold</td><td width="10%">integer</td><td width="55%">Amount of gold in character's pack</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">title_prefix</td><td width="10%">String</td><td width="55%">String placed before name i.e. Lord Racalac</td><td width="10%">r/w</td></tr><tr bgcolor="#F0F0F0"><td width="25%">title_suffix</td><td width="10%">String</td><td width="55%">String placed after name i.e. Racalac the Brave</td><td width="10%">r/w</td></tr><tr bgcolor="#E5E5E5"><td width="25%">title_guild</td><td width="10%">String</td><td width="55%">String guild title i.e. [ROX, super d00d] Racalac</td><td width="10%">r/w</td></tr><tr bgcolor="#F0F0F0"><td width="25%">title_race</td><td width="10%">String</td><td width="55%">String race title after suffix in paperdoll</td><td width="10%">r/w</td></tr><tr bgcolor="#E5E5E5"><td width="25%">guildid</td><td width="10%">integer</td><td width="55%">guild ID number</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">guild</td><td width="10%">Guild</td><td width="55%">guild object reference</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">murderer</td><td width="10%">boolean</td><td width="55%">1 = player flagged murderer (red)</td><td width="10%">r/w</td></tr><tr bgcolor="#F0F0F0"><td width="25%">attached</td><td width="10%">Script</td><td width="55%">Script reference for attached script</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">reportables</td><td width="10%">Array</td><td width="55%">(reputation system) Array of Structs: { serial, killer, gameclock }, serial = killer's serial, killer = 'offline mobile reference' to the killer, gameclock = game time when the death occurred</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">clientversion</td><td width="10%">string</td><td width="55%">UO Client version string</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">clientinfo</td><td width="10%">Struct</td><td width="55%">UO Client information struct (check out core-changes.txt for an example)</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">delay_mod</td><td width="10%">integer</td><td width="55%">Weapon Delay modifier</td><td width="10%">r/w</td></tr><tr bgcolor="#E5E5E5"><td width="25%">createdat</td><td width="10%">integer</td><td width="55%">PolClock when character was created</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">opponent</td><td width="10%">MobileRef</td><td width="55%">Mobile reference if a combat opponent is selected.</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">connected</td><td width="10%">Boolean</td><td width="55%">To determine if the character is actively connected to the game. Is set to 1 before logon/reconnect scripts are run and 0 right before logofftest is run. Will return 1 on NPC.</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">getcorpse</td><td width="10%">ItemRef</td><td width="55%">Most recent Corpse made.</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">uclang</td><td width="10%">String</td><td width="55%">Reports the Unicode Language string client sends during logon.</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">race</td><td width="10%">Integer</td><td width="55%">Set/get the ML race (new constants in UO.EM: RACE_HUMAN, RACE_ELF). You have to set visual graphic by yourself if you change value (Human male/female = 0x190/0x191 / Elf male/female = 0x25d/0x25e). You can choose Race at Char creation if your UOExpansion and UOFeature settings fit.</td><td width="10%">r/w</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Methods</th></tr></tbody><COLGROUP span="3" align="left"/><tbody><tr><td>Prototype</td><td>Returns</td><td colspan="2">Desc</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td NOWRAP="true">setpoisoned(bool)</td><td>true/error</td><td colspan="2">sets the character poisoned, controller of calling script is flagged as in repsystem</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">setparalyzed(bool)</td><td>true/error</td><td colspan="2">sets the character paralyzed, controller of calling script is flagged as in repsystem</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">setcriminal(int level)</td><td>true/error</td><td colspan="2">sets the character criminal. level multiplies the CriminalFlagInterval as defined in repsys.cfg. level=0 clears criminal timer.</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">setlightlevel(int level, int duration)</td><td>true</td><td colspan="2">sets the light level of the character to 'level' for 'duration' seconds</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">squelch(int duration)</td><td>true</td><td colspan="2">character cannot talk for 'duration' seconds. -1 means forever. 0 clears the squelch</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">enable(string setting)</td><td>true/error</td><td colspan="2">enables the 'granted' privilage to the character</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">disable(string setting)</td><td>true</td><td colspan="2">disables the 'granted' privilage to the character</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">enabled(string setting)</td><td>true/false</td><td colspan="2">true if the privilage is enabled</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">privileges()</td><td>dictionary</td><td colspan="2">Dictionary where keys are privilege name, value is 0/1 boolean.</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">setcmdlevel(string cmdlevel)</td><td>true/error</td><td colspan="2">grants the command level to the char as defined in cmds.cfg</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">spendgold(int amount)</td><td>true/error</td><td colspan="2">if enough gold, removes it from the player's pack</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">setmurderer(bool)</td><td>true/error</td><td colspan="2">flags the character as a murderer (red)</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">removereportable(int serial, int gameclock)</td><td>true/error</td><td colspan="2">removes the killer with 'serial' from the reportables list that was added at 'gameclock'</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">getgottenitem()</td><td>error/ItemRef</td><td colspan="2">returns an ItemRef to the item held on the player's cursor, if any.</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">cleargottenitem()</td><td>true/error</td><td colspan="2">Returns 'dragged' item to original location.</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">setwarmode(boolean)</td><td>integer/error</td><td colspan="2">Sets the internal warmode flag and sends the update to the player. Returns the new warmode value.</td></tr></tbody></table><br/><br/><br/><table bgcolor="#dddddd" frame="box" rules="groups" align="center" width="75%" border="1" CELLPADDING="1" CELLSPACING="0"><tbody><tr><th align="center" colspan="4"><a name="Container">Container</a></th></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Parent</th></tr></tbody><tbody><tr><td colspan="4"><a href="#Lockable">Lockable</a></td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Children</th></tr></tbody><tbody><tr><td colspan="4"><a href="#Corpse">Corpse</a></td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Explanation</th></tr></tbody><tbody><tr><td colspan="4">Items that can be locked, and have other items inside them</td></tr></tbody></table><br/><br/><br/><table bgcolor="#dddddd" frame="box" rules="groups" align="center" width="75%" border="1" CELLPADDING="1" CELLSPACING="0"><tbody><tr><th align="center" colspan="4"><a name="Corpse">Corpse</a></th></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Parent</th></tr></tbody><tbody><tr><td colspan="4"><a href="#Lockable">Lockable</a></td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Explanation</th></tr></tbody><tbody><tr><td colspan="4">Objects that are created when character objects are killed</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Members</th></tr></tbody><COLGROUP span="4" align="left"/><tbody><tr><td width="25%">Name</td><td width="10%">Type</td><td width="55%">Desc</td><td width="10%">Access</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td width="25%">corpsetype</td><td width="10%">Integer</td><td width="55%">ObjType of the Character killed</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">ownerserial</td><td width="10%">Integer</td><td width="55%">Serial of the Mobile that died</td><td width="10%">r/o</td></tr></tbody></table><br/><br/><br/><table bgcolor="#dddddd" frame="box" rules="groups" align="center" width="75%" border="1" CELLPADDING="1" CELLSPACING="0"><tbody><tr><th align="center" colspan="4"><a name="Datafile">Datafile</a></th></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Explanation</th></tr></tbody><tbody><tr><td colspan="4">Object representing a data file in a data store</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Methods</th></tr></tbody><COLGROUP span="3" align="left"/><tbody><tr><td>Prototype</td><td>Returns</td><td colspan="2">Desc</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td NOWRAP="true">CreateElement(key)</td><td>error/DataFileElemRef</td><td colspan="2">key is int or string, depending on datafile flags</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">FindElement(key)</td><td>error/DataFileElemRef</td><td colspan="2">see key notes above</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">DeleteElement(key)</td><td>error/true</td><td colspan="2">see key notes above</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">Keys()</td><td>array</td><td colspan="2">array of ints or strings, depending on datafile flags</td></tr></tbody></table><br/><br/><br/><table bgcolor="#dddddd" frame="box" rules="groups" align="center" width="75%" border="1" CELLPADDING="1" CELLSPACING="0"><tbody><tr><th align="center" colspan="4"><a name="DataFileElement">DataFileElement</a></th></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Explanation</th></tr></tbody><tbody><tr><td colspan="4">A data element inside a datastore file</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Methods</th></tr></tbody><COLGROUP span="3" align="left"/><tbody><tr><td>Prototype</td><td>Returns</td><td colspan="2">Desc</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td NOWRAP="true">GetProp(string propname)</td><td>script object/error</td><td colspan="2">Returns an unpacked script object (i.e. int,string,array,etc)</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">SetProp(string propname, object propvalue)</td><td>true/error</td><td colspan="2">Sets a packable object to a property</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">EraseProp(string propname)</td><td>true/error</td><td colspan="2">Erases the property named 'propname'</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">PropNames()</td><td>array</td><td colspan="2">Returns an array of property name strings</td></tr></tbody></table><br/><br/><br/><table bgcolor="#dddddd" frame="box" rules="groups" align="center" width="75%" border="1" CELLPADDING="1" CELLSPACING="0"><tbody><tr><th align="center" colspan="4"><a name="Datastore">Datastore</a></th></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Explanation</th></tr></tbody><tbody><tr><td colspan="4">Functions for manipulating a datastore. Not an actual object, but funcs found in datafile.em, presented here for completeness.</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Methods</th></tr></tbody><COLGROUP span="3" align="left"/><tbody><tr><td>Prototype</td><td>Returns</td><td colspan="2">Desc</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td NOWRAP="true">CreateDataFile(string name, int flags)</td><td>DataFileRef/error</td><td colspan="2">Creates a datafile</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">OpenDataFile(string name)</td><td>DataFileRef/error</td><td colspan="2">Opens a datafile</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">UnloadDataFile(string name)</td><td>true/error</td><td colspan="2">Unloads a datafile</td></tr></tbody></table><br/><br/><br/><table bgcolor="#dddddd" frame="box" rules="groups" align="center" width="75%" border="1" CELLPADDING="1" CELLSPACING="0"><tbody><tr><th align="center" colspan="4"><a name="Dictionary">Dictionary</a></th></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Explanation</th></tr></tbody><tbody><tr><td colspan="4">Data structure for key-&gt;value pairs (i.e."associative array"). Keys may be intgers, strings, reals, mobrefs, or itemrefs. Declare with var d := dictionary;</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Methods</th></tr></tbody><COLGROUP span="3" align="left"/><tbody><tr><td>Prototype</td><td>Returns</td><td colspan="2">Desc</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td NOWRAP="true">size()</td><td>int</td><td colspan="2">number of pairs in dictionary</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">erase(key)</td><td>true/error</td><td colspan="2">erases a pair from the dict</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">insert(key, value)</td><td>error/int</td><td colspan="2">inserts a pair into the dict, returns new size</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">exists(key)</td><td>error/int</td><td colspan="2">if exists, returns count of matching key</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">keys()</td><td>array</td><td colspan="2">returns an array of the keys</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">[key]</td><td>value</td><td colspan="2">gets value at key, or uninit if key doesn't exist</td></tr></tbody></table><br/><br/><br/><table bgcolor="#dddddd" frame="box" rules="groups" align="center" width="75%" border="1" CELLPADDING="1" CELLSPACING="0"><tbody><tr><th align="center" colspan="4"><a name="Door">Door</a></th></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Parent</th></tr></tbody><tbody><tr><td colspan="4"><a href="#Lockable">Lockable</a></td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Explanation</th></tr></tbody><tbody><tr><td colspan="4">A door item that automatically closes.</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Members</th></tr></tbody><COLGROUP span="4" align="left"/><tbody><tr><td width="25%">Name</td><td width="10%">Type</td><td width="55%">Desc</td><td width="10%">Access</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td width="25%">isopen </td><td width="10%">boolean</td><td width="55%">true if the door is open</td><td width="10%">r/o</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Methods</th></tr></tbody><COLGROUP span="3" align="left"/><tbody><tr><td>Prototype</td><td>Returns</td><td colspan="2">Desc</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td NOWRAP="true">open()</td><td>true</td><td colspan="2">opens the door</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">close()</td><td>true</td><td colspan="2">closes the door</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">toggle()</td><td>true</td><td colspan="2">toggles the door to the other state</td></tr></tbody></table><br/><br/><br/><table bgcolor="#dddddd" frame="box" rules="groups" align="center" width="75%" border="1" CELLPADDING="1" CELLSPACING="0"><tbody><tr><th align="center" colspan="4"><a name="Equipment">Equipment</a></th></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Parent</th></tr></tbody><tbody><tr><td colspan="4"><a href="#Item">Item</a></td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Children</th></tr></tbody><tbody><tr><td colspan="4"><a href="#Weapon">Weapon</a></td></tr><tr><td colspan="4"><a href="#Armor">Armor</a></td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Explanation</th></tr></tbody><tbody><tr><td colspan="4">Class containing concrete subclasses which are equipable and have hit points</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Members</th></tr></tbody><COLGROUP span="4" align="left"/><tbody><tr><td width="25%">Name</td><td width="10%">Type</td><td width="55%">Desc</td><td width="10%">Access</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td width="25%">quality</td><td width="10%">float</td><td width="55%">1.0=Average</td><td width="10%">r/w</td></tr><tr bgcolor="#E5E5E5"><td width="25%">hp</td><td width="10%">integer</td><td width="55%">Hit points of item</td><td width="10%">r/w</td></tr><tr bgcolor="#F0F0F0"><td width="25%">maxhp_mod</td><td width="10%">integer</td><td width="55%">Maximum Hit Point modification</td><td width="10%">r/w</td></tr><tr bgcolor="#E5E5E5"><td width="25%">maxhp</td><td width="10%">integer</td><td width="55%">Maximum Hit Points of item</td><td width="10%">r/o</td></tr></tbody></table><br/><br/><br/><table bgcolor="#dddddd" frame="box" rules="groups" align="center" width="75%" border="1" CELLPADDING="1" CELLSPACING="0"><tbody><tr><th align="center" colspan="4"><a name="Error">Error</a></th></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Explanation</th></tr></tbody><tbody><tr><td colspan="4">An object representing a script error. Comparing this object against the keyword 'error' allows the scripter to know if the result of a core function was an error.</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Members</th></tr></tbody><COLGROUP span="4" align="left"/><tbody><tr><td width="25%">Name</td><td width="10%">Type</td><td width="55%">Desc</td><td width="10%">Access</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td width="25%">errortext</td><td width="10%">string</td><td width="55%">Informational Error string</td><td width="10%">r/w</td></tr></tbody></table><br/><br/><br/><table bgcolor="#dddddd" frame="box" rules="groups" align="center" width="75%" border="1" CELLPADDING="1" CELLSPACING="0"><tbody><tr><th align="center" colspan="4"><a name="Guild">Guild</a></th></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Explanation</th></tr></tbody><tbody><tr><td colspan="4">Object representing a player guild association</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Members</th></tr></tbody><COLGROUP span="4" align="left"/><tbody><tr><td width="25%">Name</td><td width="10%">Type</td><td width="55%">Desc</td><td width="10%">Access</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td width="25%">members</td><td width="10%">array</td><td width="55%">Array of Character Refs who are guild members</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">allyguilds</td><td width="10%">array</td><td width="55%">Array of GuildRefs who are allied guilds</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">enemyguilds</td><td width="10%">array</td><td width="55%">Array of GuildRefs who are enemy guilds</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">guildid</td><td width="10%">integer</td><td width="55%">Guild ID number</td><td width="10%">r/o</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Methods</th></tr></tbody><COLGROUP span="3" align="left"/><tbody><tr><td>Prototype</td><td>Returns</td><td colspan="2">Desc</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td NOWRAP="true">ismember(Character)</td><td>error/true</td><td colspan="2">true if the character is a member of the guild</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">isallyguild(GuildRef)</td><td>true/error</td><td colspan="2">true if the guild is an ally</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">isenemyguild(GuildRef)</td><td>true/error</td><td colspan="2">true if the guild is an enemy</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">addmember(CharacterRef)</td><td>true/error</td><td colspan="2">adds a character to the guild</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">addallyguild(GuildRef)</td><td>true/error</td><td colspan="2">adds an ally guild</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">addenemyguild(GuildRef)</td><td>true/error</td><td colspan="2">adds an enemy guild</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">removemember(CharacterRef)</td><td>true/error</td><td colspan="2">removes a character member</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">removeallyguild(GuildRef)</td><td>true/error</td><td colspan="2">removes an ally guild</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">removeenemyguild(GuildRef)</td><td>true/error</td><td colspan="2">removes an enemy guild</td></tr></tbody></table><br/><br/><br/><table bgcolor="#dddddd" frame="box" rules="groups" align="center" width="75%" border="1" CELLPADDING="1" CELLSPACING="0"><tbody><tr><th align="center" colspan="4"><a name="House">House</a></th></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Parent</th></tr></tbody><tbody><tr><td colspan="4"><a href="#Multi">Multi</a></td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Explanation</th></tr></tbody><tbody><tr><td colspan="4">A Multi object where players hoard items.</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Members</th></tr></tbody><COLGROUP span="4" align="left"/><tbody><tr><td width="25%">Name</td><td width="10%">Type</td><td width="55%">Desc</td><td width="10%">Access</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td width="25%">components</td><td width="10%">Array</td><td width="55%">Array of House components, i.e. sign, doors</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">items</td><td width="10%">Array</td><td width="55%">Array of Item References in the house</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">mobiles</td><td width="10%">Array</td><td width="55%">Array of Character References in the house</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">custom</td><td width="10%">Boolean</td><td width="55%">1 = custom house (for upcoming custom house support)</td><td width="10%">r/o</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Methods</th></tr></tbody><COLGROUP span="3" align="left"/><tbody><tr><td>Prototype</td><td>Returns</td><td colspan="2">Desc</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td NOWRAP="true">add_component(ItemRef)</td><td>true/error</td><td colspan="2">Add item to House components</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">erase_component(ItemRef)</td><td>true/error</td><td colspan="2">Erase item from House components</td></tr></tbody></table><br/><br/><br/><table bgcolor="#dddddd" frame="box" rules="groups" align="center" width="75%" border="1" CELLPADDING="1" CELLSPACING="0"><tbody><tr><th align="center" colspan="4"><a name="Item">Item</a></th></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Parent</th></tr></tbody><tbody><tr><td colspan="4"><a href="#UObject">UObject</a></td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Children</th></tr></tbody><tbody><tr><td colspan="4"><a href="#Equipment">Equipment</a></td></tr><tr><td colspan="4"><a href="#Lockable">Lockable</a></td></tr><tr><td colspan="4"><a href="#Map">Map</a></td></tr><tr><td colspan="4"><a href="#Multi">Multi</a></td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Explanation</th></tr></tbody><tbody><tr><td colspan="4">Represents a physical item in the world.</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Members</th></tr></tbody><COLGROUP span="4" align="left"/><tbody><tr><td width="25%">Name</td><td width="10%">Type</td><td width="55%">Desc</td><td width="10%">Access</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td width="25%">amount</td><td width="10%">integer</td><td width="55%">stack size</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">layer</td><td width="10%">integer</td><td width="55%">equipment layer</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">container</td><td width="10%">Item</td><td width="55%">item contained in</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">usescript</td><td width="10%">string</td><td width="55%">double-click action script. set to empty string for itemdesc.cfg default script.</td><td width="10%">r/w</td></tr><tr bgcolor="#F0F0F0"><td width="25%">equipscript</td><td width="10%">string</td><td width="55%">script run when item equipped on a character</td><td width="10%">r/w</td></tr><tr bgcolor="#E5E5E5"><td width="25%">unequipscript</td><td width="10%">string</td><td width="55%">script run when item unequipped</td><td width="10%">r/w</td></tr><tr bgcolor="#F0F0F0"><td width="25%">desc</td><td width="10%">string</td><td width="55%">single click description string (formatted name)</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">movable</td><td width="10%">boolean</td><td width="55%">true if player may move the item</td><td width="10%">r/w</td></tr><tr bgcolor="#F0F0F0"><td width="25%">invisible</td><td width="10%">boolean</td><td width="55%">true if the item is invisible</td><td width="10%">r/w</td></tr><tr bgcolor="#E5E5E5"><td width="25%">decayat</td><td width="10%">integer</td><td width="55%">game clock value after which this item might decay</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">sellprice</td><td width="10%">integer</td><td width="55%">Amount of gold an NPC sells this item for. 0=not for sale, -1=itemdesc default.</td><td width="10%">r/w</td></tr><tr bgcolor="#E5E5E5"><td width="25%">buyprice</td><td width="10%">integer</td><td width="55%">Amount of gold an NPC buys this item for. 0=not for sale, -1=itemdesc default.</td><td width="10%">r/w</td></tr><tr bgcolor="#F0F0F0"><td width="25%">newbie</td><td width="10%">boolean</td><td width="55%">true if the item remains with the ghost when player dies</td><td width="10%">r/w</td></tr><tr bgcolor="#E5E5E5"><td width="25%">item_count</td><td width="10%">integer</td><td width="55%">number of items in container (or 1 if this item is not a container)</td><td width="10%">r/o</td></tr></tbody></table><br/><br/><br/><table bgcolor="#dddddd" frame="box" rules="groups" align="center" width="75%" border="1" CELLPADDING="1" CELLSPACING="0"><tbody><tr><th align="center" colspan="4"><a name="Lockable">Lockable</a></th></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Parent</th></tr></tbody><tbody><tr><td colspan="4"><a href="#Item">Item</a></td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Children</th></tr></tbody><tbody><tr><td colspan="4"><a href="#Door">Door</a></td></tr><tr><td colspan="4"><a href="#Container">Container</a></td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Explanation</th></tr></tbody><tbody><tr><td colspan="4">Class containing concrete subclasses which can 'lock'</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Members</th></tr></tbody><COLGROUP span="4" align="left"/><tbody><tr><td width="25%">Name</td><td width="10%">Type</td><td width="55%">Desc</td><td width="10%">Access</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td width="25%">locked</td><td width="10%">boolean</td><td width="55%">true if the item is locked</td><td width="10%">r/w</td></tr></tbody></table><br/><br/><br/><table bgcolor="#dddddd" frame="box" rules="groups" align="center" width="75%" border="1" CELLPADDING="1" CELLSPACING="0"><tbody><tr><th align="center" colspan="4"><a name="Map">Map</a></th></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Parent</th></tr></tbody><tbody><tr><td colspan="4"><a href="#Item">Item</a></td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Explanation</th></tr></tbody><tbody><tr><td colspan="4">A Map item that shows a a map image in a gump when double clicked.</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Members</th></tr></tbody><COLGROUP span="4" align="left"/><tbody><tr><td width="25%">Name</td><td width="10%">Type</td><td width="55%">Desc</td><td width="10%">Access</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td width="25%">xeast</td><td width="10%">integer</td><td width="55%">east gump edge (world coord)</td><td width="10%">r/w</td></tr><tr bgcolor="#E5E5E5"><td width="25%">xwest</td><td width="10%">integer</td><td width="55%">west gump edge (world coord)</td><td width="10%">r/w</td></tr><tr bgcolor="#F0F0F0"><td width="25%">ynorth</td><td width="10%">integer</td><td width="55%">north gump edge (world coord)</td><td width="10%">r/w</td></tr><tr bgcolor="#E5E5E5"><td width="25%">ysouth</td><td width="10%">integer</td><td width="55%">south gump edge (world coord)</td><td width="10%">r/w</td></tr><tr bgcolor="#F0F0F0"><td width="25%">gumpwidth</td><td width="10%">integer</td><td width="55%">width in pixels of map gump</td><td width="10%">r/w</td></tr><tr bgcolor="#E5E5E5"><td width="25%">gumpheight</td><td width="10%">integer</td><td width="55%">height in pixels of map gump</td><td width="10%">r/w</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Methods</th></tr></tbody><COLGROUP span="3" align="left"/><tbody><tr><td>Prototype</td><td>Returns</td><td colspan="2">Desc</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td NOWRAP="true">getpins()</td><td>array</td><td colspan="2">returns array of structs{x,y} of pins for the map</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">insertpin(int index, int x, int y)</td><td>true/error</td><td colspan="2">insert pin{x,y} before index</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">appendpin(int x, int y)</td><td>true/error</td><td colspan="2">append pin{x,y} to end of course</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">erasepin(int index)</td><td>true/error</td><td colspan="2">erase pin at index</td></tr></tbody></table><br/><br/><br/><table bgcolor="#dddddd" frame="box" rules="groups" align="center" width="75%" border="1" CELLPADDING="1" CELLSPACING="0"><tbody><tr><th align="center" colspan="4"><a name="Multi">Multi</a></th></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Parent</th></tr></tbody><tbody><tr><td colspan="4"><a href="#Item">Item</a></td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Children</th></tr></tbody><tbody><tr><td colspan="4"><a href="#House">House</a></td></tr><tr><td colspan="4"><a href="#Boat">Boat</a></td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Explanation</th></tr></tbody><tbody><tr><td colspan="4">Special items that display as many pieces of a large structure, as defined in multi.cfg</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Members</th></tr></tbody><COLGROUP span="4" align="left"/><tbody><tr><td width="25%">Name</td><td width="10%">Type</td><td width="55%">Desc</td><td width="10%">Access</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td width="25%">footprint</td><td width="10%">struct</td><td width="55%">returns a struct with 'xmin', 'xmax', 'ymin', 'ymax' of the world coordinates the multi occupies.</td><td width="10%">r/o</td></tr></tbody></table><br/><br/><br/><table bgcolor="#dddddd" frame="box" rules="groups" align="center" width="75%" border="1" CELLPADDING="1" CELLSPACING="0"><tbody><tr><th align="center" colspan="4"><a name="NPC">NPC</a></th></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Parent</th></tr></tbody><tbody><tr><td colspan="4"><a href="#Character">Character</a></td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Explanation</th></tr></tbody><tbody><tr><td colspan="4">A Non-Player Character mobile object</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Members</th></tr></tbody><COLGROUP span="4" align="left"/><tbody><tr><td width="25%">Name</td><td width="10%">Type</td><td width="55%">Desc</td><td width="10%">Access</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td width="25%">alignment</td><td width="10%">integer</td><td width="55%">NPC template alignment.</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">npctemplate</td><td width="10%">string</td><td width="55%">NPC template name in npcdesc.cfg</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">master</td><td width="10%">Character</td><td width="55%">controlling player character, false if none</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">process</td><td width="10%">Script</td><td width="55%">Control script reference, error on none</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">eventmask</td><td width="10%">integer</td><td width="55%">bitwise-ORd list of sysevents that have been enabled, error if no control script running</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">speech_color</td><td width="10%">integer</td><td width="55%">NPC speech text color</td><td width="10%">r/w</td></tr><tr bgcolor="#F0F0F0"><td width="25%">speech_font</td><td width="10%">integer</td><td width="55%">NPC speech text font</td><td width="10%">r/w</td></tr><tr bgcolor="#E5E5E5"><td width="25%">script</td><td width="10%">string</td><td width="55%">control script name</td><td width="10%">r/w</td></tr><tr bgcolor="#F0F0F0"><td width="25%">use_adjustments</td><td width="10%">boolean</td><td width="55%">Use movement adjustments to avoid single-tile obsticals</td><td width="10%">r/w</td></tr><tr bgcolor="#E5E5E5"><td width="25%">run_speed</td><td width="10%">integer</td><td width="55%">NPC walk delay (maximum 250)</td><td width="10%">r/w</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Methods</th></tr></tbody><COLGROUP span="3" align="left"/><tbody><tr><td>Prototype</td><td>Returns</td><td colspan="2">Desc</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td NOWRAP="true">setmaster(CharacterRef master)</td><td>true/false</td><td colspan="2">Sets the master character for the NPC, if not passed, clears master.</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">canmove(String direction, or Integer facing)</td><td>true/false</td><td colspan="2">Checks if an NPC can move in given direction (IsLegalMove works in a different way and is used for bounding boxes only).</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">privileges()</td><td>dictionary</td><td colspan="2">Dictionary where keys are privilege name, value is 0/1 boolean.</td></tr></tbody></table><br/><br/><br/><table bgcolor="#dddddd" frame="box" rules="groups" align="center" width="75%" border="1" CELLPADDING="1" CELLSPACING="0"><tbody><tr><th align="center" colspan="4"><a name="Package">Package</a></th></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Explanation</th></tr></tbody><tbody><tr><td colspan="4">Object representing a package in the system</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Members</th></tr></tbody><COLGROUP span="4" align="left"/><tbody><tr><td width="25%">Name</td><td width="10%">Type</td><td width="55%">Desc</td><td width="10%">Access</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td width="25%">name</td><td width="10%">string</td><td width="55%">Package name</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">supports_http</td><td width="10%">boolean</td><td width="55%">Does the Package supports www?</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">npcdesc</td><td width="10%">boolean</td><td width="55%">Does the Package hold an own npcdesc.cfg?</td><td width="10%">r/o</td></tr></tbody></table><br/><br/><br/><table bgcolor="#dddddd" frame="box" rules="groups" align="center" width="75%" border="1" CELLPADDING="1" CELLSPACING="0"><tbody><tr><th align="center" colspan="4"><a name="Packet">Packet</a></th></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Explanation</th></tr></tbody><tbody><tr><td colspan="4">Object representing a binary packet. Print(Packet) returns string of Packet contents.</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Methods</th></tr></tbody><COLGROUP span="3" align="left"/><tbody><tr><td>Prototype</td><td>Returns</td><td colspan="2">Desc</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td NOWRAP="true">SendPacket(Character)</td><td>true/error</td><td colspan="2">Sends this packet to character.</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">SendAreaPacket(int x, int y, int range, string realm)</td><td>integer/error</td><td colspan="2">Sends this packet to all the players in range of x,y. Returns integer number of clients this packet was successfully sent to.</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">GetSize()</td><td>integer</td><td colspan="2">Returns size of packet data in bytes.</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">GetInt8(int offset)</td><td>integer/error</td><td colspan="2">Gets 8-bit (1 byte) value at offset (0-based).</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">GetInt16(int offset)</td><td>integer/error</td><td colspan="2">Gets 16-bit (2 byte) value at offset (0-based). Automatically converts to Big-Endian.</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">GetInt32(int offset)</td><td>integer/error</td><td colspan="2">Gets 32-bit (4 byte) value at offset (0-based). Automatically converts to Big-Endian.</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">GetInt16Flipped(int offset)</td><td>integer/error</td><td colspan="2">Gets 16-bit (2 byte) value at offset (0-based). Automatically converts to Low-Endian.</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">GetInt32Flipped(int offset)</td><td>integer/error</td><td colspan="2">Gets 32-bit (4 byte) value at offset (0-based). Automatically converts to Low-Endian.</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">GetString(int offset, int length)</td><td>string/error</td><td colspan="2">Gets a string (1-byte characters) at offset (0-based) for length characters.</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">GetUnicodeString(int offset, int length)</td><td>array/error</td><td colspan="2">Gets a 'unicode string' (2-byte characters) at offset (0-based) for length characters (NOT BYTES).</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">GetUnicodeStringFlipped(int offset, int length)</td><td>array/error</td><td colspan="2">Gets a 'unicode string' (2-byte characters) at offset (0-based) for length characters (NOT BYTES). With Flipped Byte Order (for specific packet support)</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">SetSize(int newsize)</td><td>integer/error</td><td colspan="2">Sets the new size of the packet, possibly destroying data if packet size was decreased. Updates the encoded size for variable length packets, not allowed for fixed-length packets. Returns the old size of the packet.</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">SetInt8(int offset, int value)</td><td>true/error</td><td colspan="2">Sets an 8-bit (1-byte) value at offset (0-based). If offset is greater than current size, the packet is resized to fit the new data and the encoded size is updated for variable length packets. Resizing is not allowed for fixed-length packets.</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">SetInt16(int offset, int value)</td><td>true/error</td><td colspan="2">Sets an 16-bit (2-byte) value at offset (0-based). If offset is greater than current size, the packet is resized to fit the new data and the encoded size is updated for variable length packets. Resizing is not allowed for fixed-length packets. Automatically converts to Big-Endian.</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">SetInt32(int offset, int value)</td><td>true/error</td><td colspan="2">Sets an 32-bit (4-byte) value at offset (0-based). If offset is greater than current size, the packet is resized to fit the new data and the encoded size is updated for variable length packets. Resizing is not allowed for fixed-length packets. Automatically converts to Big-Endian. NOTE: currently there's a compiler problem setting 0xFFFFFFFF, it gets converted to 0x7FFFFFFF. Use multiple SetInt16 or SetInt8 calls for now.</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">SetInt16Flipped(int offset, int value)</td><td>true/error</td><td colspan="2">Sets an 16-bit (2-byte) value at offset (0-based). If offset is greater than current size, the packet is resized to fit the new data and the encoded size is updated for variable length packets. Resizing is not allowed for fixed-length packets. Automatically converts to Low-Endian.</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">SetInt32Flipped(int offset, int value)</td><td>true/error</td><td colspan="2">Sets an 32-bit (4-byte) value at offset (0-based). If offset is greater than current size, the packet is resized to fit the new data and the encoded size is updated for variable length packets. Resizing is not allowed for fixed-length packets. Automatically converts to Low-Endian. NOTE: currently there's a compiler problem setting 0xFFFFFFFF, it gets converted to 0x7FFFFFFF. Use multiple SetInt16 or SetInt8 calls for now.</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">SetString(int offset, string string, int nullterminate)</td><td>true/error</td><td colspan="2">Sets a string value at offset (0-based). If offset plus length of string is greater than current size, the packet is resized to fit the new data and the encoded size is updated for variable length packets. Resizing is not allowed for fixed-length packets. Set nullterminate to 1 if you want to automatically append a 0 terminator.</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">SetUnicodeString(int offset, array unicode character, int nullterminate)</td><td>true/error</td><td colspan="2">Sets a unicode string at offset (0-based). If offset plus length of string (2*number of members in the array) is greater than current size, the packet is resized to fit the new data and the encoded size is updated for variable length packets. Resizing is not allowed for fixed-length packets. Set nullterminate to 1 if you want to automatically append a double 0 terminator. Unicode strings in eScript are arrays of 2-byte values. See unicode.em for useful functions. CAscZ in basic.em is useful for character sets that use the ascii/ansi standard.</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">SetUnicodeStringFlipped(int offset, array unicode character, int nullterminate)</td><td>true/error</td><td colspan="2">Sets a unicode string at offset (0-based). If offset plus length of string (2*number of members in the array) is greater than current size, the packet is resized to fit the new data and the encoded size is updated for variable length packets. Resizing is not allowed for fixed-length packets. Set nullterminate to 1 if you want to automatically append a double 0 terminator. Unicode strings in eScript are arrays of 2-byte values. See unicode.em for useful functions. CAscZ in basic.em is useful for character sets that use the ascii/ansi standard. With Flipped Byte Order (for specific packet support)</td></tr></tbody></table><br/><br/><br/><table bgcolor="#dddddd" frame="box" rules="groups" align="center" width="75%" border="1" CELLPADDING="1" CELLSPACING="0"><tbody><tr><th align="center" colspan="4"><a name="Polcore">Polcore</a></th></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Explanation</th></tr></tbody><tbody><tr><td colspan="4">Object containing server data</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Members</th></tr></tbody><COLGROUP span="4" align="left"/><tbody><tr><td width="25%">Name</td><td width="10%">Type</td><td width="55%">Desc</td><td width="10%">Access</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td width="25%">itemcount</td><td width="10%">integer</td><td width="55%">Total Item Count</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">mobilecount</td><td width="10%">integer</td><td width="55%">Total Mobile Count</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">uptime</td><td width="10%">integer</td><td width="55%">Uptime in seconds</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">sysload</td><td width="10%">integer</td><td width="55%">System Load</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">sysload_severity</td><td width="10%">integer</td><td width="55%">System Load Severity</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">bytes_sent</td><td width="10%">integer</td><td width="55%">Number of bytes sent</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">bytes_received</td><td width="10%">integer</td><td width="55%">Number of bytes received</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">version</td><td width="10%">integer</td><td width="55%">Version, i.e. 95</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">systime</td><td width="10%">integer</td><td width="55%">UNIX time()</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">events_per_min</td><td width="10%">integer</td><td width="55%">Events per minute</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">skill_checks_per_min</td><td width="10%">integer</td><td width="55%">Skill checks per minute</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">combat_operations_per_min</td><td width="10%">integer</td><td width="55%">Combat operations per minute</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">error_creations_per_min</td><td width="10%">integer</td><td width="55%">Script errors per minute</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">tasks_ontime_per_min</td><td width="10%">integer</td><td width="55%">Tasks ontime per minute</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">tasks_late_per_min</td><td width="10%">integer</td><td width="55%">Tasks late per minute</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">tasks_late_ticks_per_min</td><td width="10%">integer</td><td width="55%">Tasks late ticks per minute</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">instr_per_min</td><td width="10%">integer</td><td width="55%">Script instructions per minute</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">priority_divide</td><td width="10%">integer</td><td width="55%">Priority Divide</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">verstr</td><td width="10%">string</td><td width="55%">Version String</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">compiledate</td><td width="10%">string</td><td width="55%">Compile Date</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">compiletime</td><td width="10%">string</td><td width="55%">Compile Time</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">packages</td><td width="10%">array</td><td width="55%">Array of enabled package names</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">all_scripts</td><td width="10%">array</td><td width="55%">Array of all cached script objects</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">script_profiles</td><td width="10%">array</td><td width="55%">Array of structs: struct have members name, instr, invocations, instr_per_invoc, instr_percent</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">iostats</td><td width="10%">integer</td><td width="55%">struct of arrays of structs - iostats["sent"array-&gt;256 elements of struct["count","bytes"],"received"array-&gt;256 elements of struct["count","bytes"]]</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">queued_iostats</td><td width="10%">array</td><td width="55%">structure same as iostats, but for queued I/O stats</td><td width="10%">r/o</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Methods</th></tr></tbody><COLGROUP span="3" align="left"/><tbody><tr><td>Prototype</td><td>Returns</td><td colspan="2">Desc</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td NOWRAP="true">log_profile(bool clear)</td><td>true/false</td><td colspan="2">Writes the script profile to the log, optionally clearing it after.</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">set_priority_divide(int divide)</td><td>true/false</td><td colspan="2">Sets the priority divide to 'divide'</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">clear_script_profile_counters()</td><td>true/false</td><td colspan="2">Clears the script profile counters</td></tr></tbody></table><br/><br/><br/><table bgcolor="#dddddd" frame="box" rules="groups" align="center" width="75%" border="1" CELLPADDING="1" CELLSPACING="0"><tbody><tr><th align="center" colspan="4"><a name="Script">Script</a></th></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Explanation</th></tr></tbody><tbody><tr><td colspan="4">Object representing a script in the system</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Members</th></tr></tbody><COLGROUP span="4" align="left"/><tbody><tr><td width="25%">Name</td><td width="10%">Type</td><td width="55%">Desc</td><td width="10%">Access</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td width="25%">pid</td><td width="10%">integer</td><td width="55%">Process ID</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">name</td><td width="10%">string</td><td width="55%">Script name</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">state</td><td width="10%">string</td><td width="55%">Script state</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">instr_cycles</td><td width="10%">integer</td><td width="55%">Instruction Cycles</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">sleep_cycles</td><td width="10%">integer</td><td width="55%">Sleep Cycles</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">consec_cycles</td><td width="10%">integer</td><td width="55%">Consecutive Cycles</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">PC</td><td width="10%">integer</td><td width="55%">Program Counter</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">call_depth</td><td width="10%">integer</td><td width="55%">Call depth</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">num_globals</td><td width="10%">integer</td><td width="55%">Number of global variables</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">var_size</td><td width="10%">integer</td><td width="55%">Number of variables</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">globals</td><td width="10%">Dictionary</td><td width="55%">Dictionary of global variable name=&gt;value pairs</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">attached_to</td><td width="10%">MobileRef</td><td width="55%">Mobile where Script is attached to. If it's an AI-Script it will return the NPC.</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">controller</td><td width="10%">MobileRef</td><td width="55%">Mobile which is responsible for damage etc.</td><td width="10%">r/o</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Methods</th></tr></tbody><COLGROUP span="3" align="left"/><tbody><tr><td>Prototype</td><td>Returns</td><td colspan="2">Desc</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td NOWRAP="true">sendevent(obj event)</td><td>error/true</td><td colspan="2">sends a event to this script (usually a struct)</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">kill()</td><td>true</td><td colspan="2">Kills this script</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">clear_event_queue()</td><td>true</td><td colspan="2">clears the event queue of the script</td></tr></tbody></table><br/><br/><br/><table bgcolor="#dddddd" frame="box" rules="groups" align="center" width="75%" border="1" CELLPADDING="1" CELLSPACING="0"><tbody><tr><th align="center" colspan="4"><a name="String">String</a></th></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Explanation</th></tr></tbody><tbody><tr><td colspan="4">An ordered collection of ascii (1-byte) characters. Declare with var s := "my string"</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Methods</th></tr></tbody><COLGROUP span="3" align="left"/><tbody><tr><td>Prototype</td><td>Returns</td><td colspan="2">Desc</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td NOWRAP="true">[start,length]</td><td>string</td><td colspan="2">'Substring': returns a new string from the character range between start and length, inclusive. Returns error if index out of range. Ex: var str := "yomama"; str[2,3] would return "oma".</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">[substr]</td><td>string/uninit</td><td colspan="2">seaches the string for 'substr'. If found, returns the first character of the substring, else uninitialized object. </td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">[substr] := replace_str</td><td>string</td><td colspan="2">finds the first occurance of 'substr' and replaces substr with 'replace_str'. returns the new string.</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">+ string</td><td>string</td><td colspan="2">concatenates the strings, returns the new string.</td></tr></tbody></table><br/><br/><br/><table bgcolor="#dddddd" frame="box" rules="groups" align="center" width="75%" border="1" CELLPADDING="1" CELLSPACING="0"><tbody><tr><th align="center" colspan="4"><a name="Struct">Struct</a></th></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Explanation</th></tr></tbody><tbody><tr><td colspan="4">Data structure with explicitly named members (keys). Keys may be only be strings. Declare with var s := struct;  Pre-intialize with: var s := struct { a := 1, b :=2 }</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Methods</th></tr></tbody><COLGROUP span="3" align="left"/><tbody><tr><td>Prototype</td><td>Returns</td><td colspan="2">Desc</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td NOWRAP="true">exists(key)</td><td>error/int</td><td colspan="2">if exists, returns count of matching key</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">size()</td><td>int</td><td colspan="2">number of keys in the struct</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">insert(int index, object)</td><td>int/error</td><td colspan="2">inserts a new object into the struct for key. Returns size.</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">keys()</td><td>array</td><td colspan="2">returns an array of the keys</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">.+member</td><td>n/a</td><td colspan="2">struct.+member adds a member</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">.member</td><td>value</td><td colspan="2">gets value of member</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">[member]</td><td>value</td><td colspan="2">gets value of member ONLY when member is a string! no using integers here like an array.</td></tr></tbody></table><br/><br/><br/><table bgcolor="#dddddd" frame="box" rules="groups" align="center" width="75%" border="1" CELLPADDING="1" CELLSPACING="0"><tbody><tr><th align="center" colspan="4"><a name="UObject">UObject</a></th></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Children</th></tr></tbody><tbody><tr><td colspan="4"><a href="#Character">Character</a></td></tr><tr><td colspan="4"><a href="#Item">Item</a></td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Explanation</th></tr></tbody><tbody><tr><td colspan="4">The base UO Object class</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Members</th></tr></tbody><COLGROUP span="4" align="left"/><tbody><tr><td width="25%">Name</td><td width="10%">Type</td><td width="55%">Desc</td><td width="10%">Access</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td width="25%">x</td><td width="10%">integer</td><td width="55%">x coordinate</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">y</td><td width="10%">integer</td><td width="55%">y coordinate</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">z</td><td width="10%">integer</td><td width="55%">z coordinate</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">realm</td><td width="10%">String</td><td width="55%">case-sensitive name of the realm</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">name</td><td width="10%">String</td><td width="55%">name string (for items use .desc for single-click text)</td><td width="10%">r/w</td></tr><tr bgcolor="#E5E5E5"><td width="25%">objtype</td><td width="10%">integer</td><td width="55%">object type as defined in itemdesc.cfg</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">graphic</td><td width="10%">integer</td><td width="55%">art id number</td><td width="10%">r/w</td></tr><tr bgcolor="#E5E5E5"><td width="25%">serial</td><td width="10%">integer</td><td width="55%">unique object identifier</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">color</td><td width="10%">integer</td><td width="55%">color value (0 to 0xFFF)</td><td width="10%">r/w</td></tr><tr bgcolor="#E5E5E5"><td width="25%">facing</td><td width="10%">integer</td><td width="55%">facing or the object (meaningful for mobiles and light-emitting items) range 0-127</td><td width="10%">r/w</td></tr><tr bgcolor="#F0F0F0"><td width="25%">height</td><td width="10%">integer</td><td width="55%">height of the graphic as defined in tiledata.mul</td><td width="10%">r/o</td></tr><tr bgcolor="#E5E5E5"><td width="25%">weight</td><td width="10%">integer</td><td width="55%">weight of the graphic as defined in tiledata.mul</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">multi</td><td width="10%">Multi</td><td width="55%">MultiRef for the Multi the object is on</td><td width="10%">r/o</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Methods</th></tr></tbody><COLGROUP span="3" align="left"/><tbody><tr><td>Prototype</td><td>Returns</td><td colspan="2">Desc</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td NOWRAP="true">isa(POLCLASS_*)</td><td>boolean</td><td colspan="2">True if the derived class is the same as the passed class type (see uo.em for all constants)</td></tr><tr bgcolor="#E5E5E5"><td NOWRAP="true">set_member(string membername, obj value)</td><td>object, new value of member or error</td><td colspan="2">Sets the built-in member 'membername' to 'value'. obj.set_member("name","u suck") is the same as obj.name := "u suck"</td></tr><tr bgcolor="#F0F0F0"><td NOWRAP="true">get_member(string membername</td><td>object, value of member or error</td><td colspan="2">Gets the value of the built-in member 'membername'. var objname := obj.get_member("name") is the same as var objname := obj.name</td></tr></tbody></table><br/><br/><br/><table bgcolor="#dddddd" frame="box" rules="groups" align="center" width="75%" border="1" CELLPADDING="1" CELLSPACING="0"><tbody><tr><th align="center" colspan="4"><a name="Weapon">Weapon</a></th></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Parent</th></tr></tbody><tbody><tr><td colspan="4"><a href="#Equipment">Equipment</a></td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Explanation</th></tr></tbody><tbody><tr><td colspan="4">Equipable items that deal damage in combat</td></tr></tbody><tbody><tr bgcolor="#cccccc"><th align="left" colspan="4">Members</th></tr></tbody><COLGROUP span="4" align="left"/><tbody><tr><td width="25%">Name</td><td width="10%">Type</td><td width="55%">Desc</td><td width="10%">Access</td></tr></tbody><tbody><tr bgcolor="#F0F0F0"><td width="25%">dmg_mod</td><td width="10%">integer</td><td width="55%">Damage Modifier</td><td width="10%">r/w</td></tr><tr bgcolor="#E5E5E5"><td width="25%">attribute</td><td width="10%">string</td><td width="55%">Attribute name this weapon uses as a skill</td><td width="10%">r/o</td></tr><tr bgcolor="#F0F0F0"><td width="25%">hitscript</td><td width="10%">string</td><td width="55%">Script name that runs when weapon makes a hit</td><td width="10%">r/w</td></tr><tr bgcolor="#E5E5E5"><td width="25%">intrinsic</td><td width="10%">Boolean</td><td width="55%">Intrinsic Weapon?</td><td width="10%">r/o</td></tr></tbody></table><br/><br/><br/>

    <hr>
    <p style="font-size: 9pt; font-weight: bold; text-align: center;">
      If you <i>know</i> if any information is incorrect on these pages, mail your corrections to polteam@polserver.com
    </p>
    <p style="font-size: 7pt; font-weight: bold; text-align: center;">
      Copyright &copy;2003-2007 David Carpman and POL Development Team, all rights reserved. DO NOT REPRODUCE, MIRROR, ALTER, SPINDLE, MUTILATE, OR SIT ON.
    </p>
    </body>
    </html>

