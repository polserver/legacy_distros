use uo;
use os;

program use_scroll(who, scroll)
    set_critical(1);
    if (scroll.amount)
        local SpellID := GetObjProperty(scroll, "SpellID");
	SpellID := Cint(SpellID);
        SubtractAmount(scroll, 1);
        Detach();
        StartSpellEffect(who, SpellID);
    endif
endprogram

